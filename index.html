<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Nomad Details Form</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="form-container">
        <div class="header">
            <h2>DETAILS OF NOMADS</h2>
        </div>

        <div class="photo-section">
            <div class="photo-box">
                <img id="captured-photo" style="display: none; max-width: 100%; max-height: 100%;">
                <span id="photo-placeholder">Photo</span>
            </div>
            <div class="camera-controls">
                <button id="start-camera" class="btn">Start Camera</button>
                <button id="capture-photo" class="btn" disabled>Capture Photo</button>
                <button id="retake-photo" class="btn" style="display: none;">Retake</button>
            </div>
        </div>

        <div id="camera-modal" class="modal">
            <div class="modal-content">
                <div class="camera-container">
                    <video id="camera-feed" autoplay playsinline></video>
                    <canvas id="photo-canvas" style="display: none;"></canvas>
                </div>
                <div class="modal-controls">
                    <button id="close-camera" class="btn">Close Camera</button>
                </div>
            </div>
        </div>

        <form id="nomad-form">
            <div class="form-group">
                <label>LOCATION OF DHOK:</label>
                <input type="text" id="location" name="location">
            </div>

            <div class="form-group">
                <label>Name of Family Head:</label>
                <input type="text" id="familyHead" name="familyHead">
            </div>

            <div class="form-group">
                <label>S/O, D/O, W/O:</label>
                <input type="text" id="relation" name="relation">
            </div>

            <div class="form-group">
                <label>Village:</label>
                <input type="text" id="village" name="village">
            </div>

            <div class="form-group">
                <label>Mohalla:</label>
                <input type="text" id="mohalla" name="mohalla">
            </div>

            <div class="form-group">
                <label>Land Mark:</label>
                <input type="text" id="landmark" name="landmark">
            </div>

            <div class="form-group">
                <label>Adjacent DHOKS:</label>
                <input type="text" id="adjacentDhoks" name="adjacentDhoks">
            </div>

            <div class="form-group">
                <label>Structure Details:</label>
                <input type="text" id="structureDetails" name="structureDetails">
            </div>

            <div class="form-row">
                <div class="form-group">
                    <label>Age:</label>
                    <input type="number" id="age" name="age">
                </div>
                <div class="form-group">
                    <label>Profession:</label>
                    <input type="text" id="profession" name="profession">
                </div>
            </div>

            <div class="form-row">
                <div class="form-group">
                    <label>Adhaar Card No:</label>
                    <input type="text" id="adhaarNo" name="adhaarNo">
                </div>
                <div class="form-group">
                    <label>Cell No:</label>
                    <input type="text" id="cellNo" name="cellNo">
                </div>
            </div>

            <div class="form-group">
                <label>Vehicle Details if any:</label>
                <input type="text" id="vehicleDetails" name="vehicleDetails">
            </div>

            <h3>FAMILY DETAILS:</h3>
            <div class="table-container">
                <table id="familyTable">
                    <thead>
                        <tr>
                            <th>S.No</th>
                            <th>Name</th>
                            <th>Age</th>
                            <th>Profession</th>
                            <th>Cell No</th>
                            <th>Relationship with Family Head</th>
                        </tr>
                    </thead>
                    <tbody></tbody>
                </table>
                <button type="button" id="add-family-member" class="btn">Add Family Member</button>
            </div>

            <div class="form-group">
                <label>Any Other details:</label>
                <input type="text" id="otherDetails" name="otherDetails">
            </div>

            <div class="form-actions">
                <button type="button" id="generate-pdf" class="btn primary">Generate PDF</button>
            </div>
        </form>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="camera.js"></script>
    <script src="form.js"></script>
</body>
</html>
